{"id": "325ae0b6be2a48cd8791f35d752b2fff", "title": "Case Creation Flow_v1.1_20230113", "body": "IPS Case Creation\n\nA. IPS Case Creation MS for Pega\nGCC Intranet\n2.1\nReads Pega format Case Data from IPS MQ\nIPSES\n2.4\nWrite Pega format Case Data back to IPS MQ\n1.1\nMS fetches case creation data from IPS MQ, extracts JSON and transform JSON into PEGA format\n\u2018IPS Pega Case Creation\u2019 MS\nPush case JSON\u00a0\n\u2018IPS Pega Format Transformation\u2019 MS\n2.3\n2.2\n\u2018MS updates MS SQL DB with case status and IPS Pega ID\nPulls messages\u00a0\n\u2018MS sends case creation data to IPS\n1.3\nMS writes IPS Pega Format Case Data MQ message\n\u2018CIRIS INSPIRE Format Transformation\u2018 MS\nIPS Pega\nIBM MQ IPT \nMS writes JSON to MongoDB, Status and application IDs to MSSQL\n1.2\nPush messages\u00a0\nMS SQL\nPulls messages\u00a0\nMongoDB\nIPS MQ \nMHA DEG MQ\nPulls messages\u00a0\nB. IPS Case Creation MS for CIRIS and INSPIRE \u2013 R2\n3.1\nMS reads MQ, extracts JSON and transforms JSON format to CIRIS and INSPIRE format\n4A1\n\u2018MS fetches CIRIS format case data from IPS MQ\nCIRIS\n\u2018CIRIS Case Creation\u2019 MS\nICA DEG MQ \nUpdate MS SQL DB with case status and CIRIS application ID\n4A3\n3.3\nMS writes formatted data into IPS MQ\n4A2\nCase creation with CIRIS\n\u2018MS fetches INSPIRE format case data from IPS MQ\n4B1\nINSPIRE\n\u2018INSPIRE DV Case Creation\u2019 MS\nUpdate MS SQL DB with case status\n4B3\n4B2\nCreate DV Case with INSPIRE\n3.2\nMS writes JSON to MongoDB and status to MS SQL DB\n\nA. IPS Case Creation MS for Pega\nGCC Intranet\nIPSES\n1.1\nMS fetches case creation data from IPS MQ, extracts JSON and transform IPSES format into IPS format\nPull case JSON\u00a0\nPush case JSON\u00a0\n\u2018IPS Format Transformation\u2019 MS\nPulls messages\u00a0\n1.3\nMS writes IPS Format Case Data into MQ for Case Creation MS to pick up\nIPS Pega\nMS writes JSON to MongoDB, Status and application IDs to MSSQL\nIBM MQ IPT \n1.2\nPush messages\u00a0\nPulls messages\u00a0\nMongoDB\nMS SQL\nIPS MQ \nMHA DEG MQ\n2.1\nRead IPS format Case Data from IPS MQ\nPush messages\u00a0\nPulls messages\u00a0\n2.3\n\u2018MS updates MS SQL DB with case status and IPS Pega ID\n2.4\nWrite IPS Format Case Data back to IPS MQ for CIRIS & INSPIRE transformation\n\u2018IPS Case Creation\u2019 MS\n\u2018IPS Case Creation\u2019 MS\nICA DEG MQ \n2.2\n\u2018Sends IPS format to IPS for case creation (Async call)\n2.3\nWhen case creation is completed in IPS Pega, Pega will send case creation result and IPS IDs to MS\n\nTBC\nQueue Description Publisher Subscriber IPSES Case For receiving case data from IPSES DEG MQ IPS Pega Format Transformation MS IPSES Case Backout To store message when IPSES case message valiation or Pega format transformation fails IPS Pega Format Transformation MS - Pega Case For IPS Pega case creation IPS Pega Format Transformation MS IPS Pega Case Creation MS Pega Case Backout To store message when IPS Pega case creation fails IPS Pega Case Creation MS - Post Pega Case For Pega case data after IPS Pega case creation IPS Pega Case Creation MS CIRIS INSPIRE Format Transformation MS Post Pega Case Backout To store message when CIRIS INSPIRE format transformation fails CIRIS INSPIRE Format Transformation MS - CIRIS Case For CIRIS case creation CIRIS INSPIRE Format Transformation MS CIRIS MQ CIRIS Case Result For receiving CIRIS case creation result from CIRIS CIRIS MQ IPS CIRIS Case Creation MS INSPIRE Case For INSPIRE DV case creation CIRIS INSPIRE Format Transformation MS IPS INSPIRE DV Case Creation MS INSPIRE Case Backout To store message when INSPIRE DV case creation fails IPS INSPIRE DV Case Creation MS - IPSES Recon For sending acknowledgment and IPS Case Creation Status to IPSES IPS Pega Format Transformation MS DEG MQ\n\nStatus Code Description Is Patch Allowed Is Patch Required To Reconcile IPSeS Action to Take NEW Initial status when message from IPSES is received Yes No No No action; to resend at set interval ERR:BROK Broken MQ message, not a recognizable XML message body No No No No action; to resend at set interval ERR:CRE Error creating JSON file Yes No Yes To resend on error ERR:CKS JSON file checksum error Yes Yes Yes To patch and resend on error DUP:RCV Duplicate message received on a RCV message (Patch Flag not set) Yes No Yes No action; to resend at set interval DUP:VLD Duplicate message received on a VLD message (Patch Flag not set) Yes Yes No action; to resend at set interval DUP:VLD:PEND Duplicate message received on a VLD:PEND message (Patch Flag not set) Yes No Yes No action; to resend at set interval DUP:COM Duplicate message received on a COM message (Patch Flag not set) No No Yes To stop sending for the transactionUUID RCV Message and JSON file received successfully Yes No No No action; to resend at set interval OVR Overwritten records with patch data No No No No action ERR:RCV JSON file validation fail Yes Yes Yes To patch and resend on error ERR:VLD Error saving case structure data into Mongo DB Yes Maybe Yes To resend or patch on error VLD Case structure data validated and saved into Mongo DB, ready to fire for case creation Yes No No No action; to resend at set interval VLD:PEND Retrying to fire for case creation Yes No No No action; to resend at set interval COM Case creation completed successfully No No Yes To stop sending for the transactionUUID ERR:COM Case creation fail on error Yes Yes Yes To patch and resend on error PERR:COM Partial Error for Case Creation (Only applicable to INSPIRE Case Creation) Yes Yes Yes To patch and resend on error DUP:ERR:COM Duplicate message received on a ERR:COM message (Patch Flag not set) Yes No Yes To patch and resend on error ERR:CRI Critical error occur due to corrupted MQ case transaction records No No Yes No action; IPS to patch\n\nIPS Pega Format Transformation MS\nIPS Pega Case Creation MS\nCase Status\nMS\nIPS MQ\nIPSES Case\nPega Status CIRIS Status INSPIRE Status NEW NEW NEW\nRead message from MQ\nIPS MQ\nPega Status CIRIS Status INSPIRE Status RCV NEW NEW\nValidate MQ message (checksum)\nPega Status CIRIS Status INSPIRE Status VLD NEW NEW\nPega Case\nTransform to Pega format\nCreate Case in Pega\nPega Status CIRIS Status INSPIRE Status COM NEW NEW\nPost Pega Case\nIPSES Recon\n\nCIRIS INSPIRE Format Transformation MS\nINSPIRE DV Case Creation MS\nCase Status\nMS\nIPS MQ\nPega Status CIRIS Status INSPIRE Status COM NEW NEW\nRead Message From MQ\nPost Pega Case\nCIRIS Case Creation MS\nIPS MQ\nConvert to CIRIS Format\nPega Status CIRIS Status INSPIRE Status COM VLD NEW\nCIRIS Case\nPega Status CIRIS Status INSPIRE Status COM VLD VLD\nINSPIRE Case\nConvert to INSPIRE Format\nPega Status CIRIS Status INSPIRE Status COM VLD COM\nCreate Case in INSPIRE\nRead CIRIS Case Creation Result and Update Status\nIf 3 cases for INSPIRE fired, 1 fails, what is the status?\nPega Status CIRIS Status INSPIRE Status COM COM COM\nCIRIS Case Result\n\nCIRIS INSPIRE Format Transformation MS\nCIRIS Case Creation MS\nIf an error occurs for INSPIRE or CIRIS transformation, message is saved to backout queue. After issue is resolved, message can be put back into Post Pega Case queue for the MS to rerun. MS will utilise case status to process accordingly\nIPS MQ\nCase Status\nMS\nIPS MQ\nPega Status CIRIS Status INSPIRE Status COM NEW NEW\nRead Message From MQ\nPost Pega Case\nConvert to CIRIS Format\nPega Status CIRIS Status INSPIRE Status COM VLD NEW\nCIRIS Case\nPega Status CIRIS Status INSPIRE Status COM VLD ERR:VLD\nPost Pega Case Backout\nConvert to INSPIRE Format\nRead CIRIS Case Creation Result and Update Status\nPega Status CIRIS Status INSPIRE Status COM COM ERR:VLD\nCIRIS Case Result\n\nCurrent Status\nCIRIS Status\nCIRIS Status Change\nCurrent Status -> New Status\nCurrent Status\nINSPIRE Status\n5.2\nMS writes status into MS SQL DB\nINSPIRE Status Change\nCurrent Status -> New Status\nCOM\n8\nUpdate MS SQL DB with case status and CIRIS application ID\nVLD\n5.1\nMS writes INSPIRE formatted data into MongoDB\nVLD\n5.3\nMS writes INSPIRE formatted data into IPS MQ\n\u2018CIRIS INSPIRE Format Transformation\u2018 MS\nCIRIS\nCIRIS MQ\nRCV-> VLD\nVLD\n4\nMS transform JSON into INSPIRE format\nRCV\n\u2018CIRIS Case Creation\u2019 MS\nIPS MQ \n6\nCase creation with CIRIS via MQ\n1\nMS reads MQ and extracts Pega formatted data (JSON)\n7\n\u2018MS fetches CIRIS case creation result from IPS MQ\nVLD -> COM\nMS SQL\nMongoDB\nNEW -> RCV\nMS fetches INSPIRE format case data from IPS MQ\n6\n2\nVLD\nRCV\nMS transform JSON into CIRIS format\n3.3\nMS writes CIRIS formatted data into IPS MQ\n\u2018INSPIRE DV Case Creation\u2019 MS\nVLD\n3.1\n7\nMS writes CIRIS formatted data into MongoDB\nCreate DV Case with INSPIRE\nRCV-> VLD\nVLD -> COM\nINSPIRE\n8\nVLD\nUpdate MS SQL DB with case status\nCOM\n3.2\nMS writes status into MS SQL DB\n\nError Handling\n\nWIP\nBusiness Error\nTechnical Error\nFail with business error any where in the service\nFail with technical error any where in the service, application rolls back\nRead Message\nAfter application roll back x 3\nQueue\nQueue\nMS\nMS\nEnd system \nEnd system \nBackout Queue\nDead Letter Queue\nPut message\nIPS MQ \nIPS MQ \n\n![a diagram of a flow flow](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_1.png)\n\n![a diagram of a flow flow](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_1.png)\n\n![a diagram of a flow flow](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_1.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_1.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_1.png)\n\n![a diagram of a flow flow](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_2.png)\n\n![a diagram of a flow flow](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_2.png)\n\n![a diagram of a flow flow](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_2.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_2.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_2.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_2.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_8.png)\n\n![a black background with a white and red flower](/Users/kundan.jha/KnowledgeAI/raw_imgs/325ae0b6be2a48cd8791f35d752b2fff_8.png)", "source": "/Users/kundan.jha/KnowledgeAI/raw/Case Creation Flow_v1.1_20230113.pptx"}